language: cpp
jobs:
  include:
  - os: osx
    script:
    - cmake -H. -B_build
    - cmake --build _build
    - cd _build
    - cpack -G DragNDrop
    - cd ..
  - os: linux
    script:
    - cmake -H. -B_build
    - cmake --build _build
    - cd _build
    - cpack -G DEB
    - cpack -G RPM
    - cd ..
addons:
  apt:
    packages:
    - cmake
    - cmake-data
    - rpm
deploy:
  provider: releases
  api_key:
    secure: s2XvXR18Fsfu3FoxzscQQFU9Qr0C5lr/DjiCoFLX7MCnTQP7r4u/eoULz5e0VaV0RdHX7U20eQSknGME5j4TGGqwi81WITaFNssLUxHpg9NabN2RdthIcjf972PlPQzjKv26d5wZA2ySOozyiFLa18JKWY65q/iRv6RTqbNv6WglS0kIIQjjBsHJ8LiMxPb54fsECfPs6O7FmLXC4kM5VRjczp/LACoiU+pemC7ByWFsI0WGzv8fHK/HO0oc4CZPIc1hWXEeNGFwKMLm+Z26t9nmwchqb8wHfnf0T3qFQGFzKXDHXoJi/SKO2BV1AKeDb9wTXw+vjuny9k2t+WjDeo4SxoA6SashKeruX3fdcYbbGnSMfVhqcLhwUR+mmJsSB2PTavpnLJdpW3kC+w+X3qDPcuoxP2bt/6tIEYweMs9aH23ZGOAvrS7SPYz/GycT+ZwA0pGesplkrUhGY7Kq+B1QaK33QHcbjsErkTX5UfrL9h7ITieMQfg7EyHunCTKtTiEgkd4Bb9+HIbqqjCYmKFrqPiXAwsvcN99I/x8YJTmy0XsAMibP7+fKmk2lKVp/JhJCfBuwV0fHhzb72lQnRxZKfo7XxPPshcZMkxzsP77qJFvKB6I5NChGeE2DWBgKoqITO6V0qlJm76yS+B7PkSH/fOEA3iggkwwxaykzmc=
  file:
    - ./_build/print-0.1.0.0-Darwin.dmg
    - ./_build/print-0.1.0.0-Linux.deb
    - ./_build/print-0.1.0.0-Linux.rpm
  skip_cleanup: true
  on:
    tags: true
