language: cpp
script:
- cmake -H. -B_build -DCMAKE_INSTALL_PREFIX=_install -DBUILD_TESTS=ON
- cmake --build _build
- cmake --build _build --target install
- cmake --build _build --target test -- ARGS=--verbose
- cmake -H. -B_build
- cmake --build _build
- cd _build
- cpack -G DEB
- cd ..
addons:
  apt:
    sources:
    - george-edison55-precise-backports
    packages:
    - cmake
    - cmake-data
deploy:
  provider: releases
  api_key:
    secure: DBoNOG92GLhoCufyUqd12A99tb0/CRjL/+mLZEG+8yzEjaeHu5Bvu3EUZZMyIyZuh7C/sbfVnrekvoKuDmcfrumsd1AIPa1/bbWeEkzOT1hXxhWQb8CqT7IY0I1JNB+ti1LaM2Q5g7iLUJPBeIGnF6GG8H8pKk5XSlUDxcdiHetVmoPiP8ptKArrUd455RmUhjtcxFlnl4QB2Z6PVtnt97kmh3aduLVT19vuJX4AI/3Dequ4I9mPmffJLk4V+2Vq3Ku7bSWeXbvn3jvlmu7ja2zvjJxh81WDzbyv9384U4Ffduun8g5+xRybZrX+MGrpRVWGchiwgIqJ6OF5nlBrPsiXNA+ktXQqYXd3eKB17xLdjUf/T6NXBvPyE8YIOFinb2dI2Zj5tCO2tvvb7sD5Txy3FyQn6dAqJBS0Hb3tUE9OklNGqlYBiWGpzsAsdcwbgjjo8WFMURSS3HYqefZh03cIT4yzPhfhmSRSTuBO6qLtXpmViwNUcjGdPXdEn8mM1jOqYmXZyvQAUs2L5XeD1IV+d2NNxM/fplJ+1LVcYNARpj7tbJeGOmPXLR84AQMvInBFBPoH/m2HzikKR7l5ZpFOHi+KlqcLHmeKJLkIIYDxofdXmGb71H1ORfIaLybuPWo0LiDgkL2Ug42m7z4uIDu1p44iOOea2CZY0vF1CBI=
  file:
    - _build/*.deb
  skip_cleanup: true
  on:
    tags: true
BLK7scPO43B1Q8IgW2jr1g:
